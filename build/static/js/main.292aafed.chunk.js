(this.webpackJsonpkanban_kitchen=this.webpackJsonpkanban_kitchen||[]).push([[0],{100:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(43),c=t.n(o),i=(t(57),t(3)),s=t(5),u=t(8),l=t(7),d=(t(58),function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("header",{className:"Header"},a.a.createElement("h1",null,"WELCOME TO KANBAN KITCHEN!"))}}]),t}(a.a.Component)),g=(t(59),t(102)),f=t(10),v="card",m=t(14),b=t.n(m),O={beginDrag:function(e){return{cardId:e.id}},endDrag:function(e,n,t){n.didDrop()&&alert("Card has been dropped!")}};var h=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=n.call(this,e)).state={},r}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,n=e.id,t=e.isDragging,r=e.connectDragSource,o=e.connectDragPreview;return r(a.a.createElement("div",null,a.a.createElement(g.a,{src:"../../public/favicon.ico",connect:o}),a.a.createElement("div",{className:b()({Card:!0,"Card-is-dragging":t})},a.a.createElement("h1",null,"Title"),a.a.createElement("p",null,"My draggable card id is: ",n))))}}]),t}(a.a.Component),D=Object(f.DragSource)(v,O,(function(e,n){return{canDrag:n.canDrag(),isDragging:n.isDragging(),connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}}))(h);t(63),t(64);var p=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=n.call(this,e)).state={},r}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,n=e.highlighted,t=e.hovered,r=e.connectDropTarget,o=e.isOver;return r(a.a.createElement("div",{className:b()({Column:!0,"Column-highlighted":n,"Column-hovered":t,"Column-is-over":o})},a.a.createElement(D,{id:1,isDragging:!1}),a.a.createElement(D,{id:2,canDrag:!0,isDragging:!1}),a.a.createElement(D,{id:3,canDrag:!0,isDragging:!1})))}}]),t}(a.a.Component),w=Object(f.DropTarget)(v,{},(function(e,n){return{isOver:n.isOver(),connectDropTarget:e.dropTarget()}}))(p),S=(t(98),function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"Board"},a.a.createElement("ul",{className:"scroll"},a.a.createElement("li",null,a.a.createElement(w,null)),a.a.createElement("li",null,a.a.createElement(w,null)),a.a.createElement("li",null,a.a.createElement(w,null)),a.a.createElement("li",null,a.a.createElement(w,null)),a.a.createElement("li",null,a.a.createElement(w,null)),a.a.createElement("li",null,a.a.createElement(w,null))))}}]),t}(a.a.Component)),j=(t(99),t(46)),E=t(103),A=function(e){Object(u.a)(t,e);var n=Object(l.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null),a.a.createElement(E.a,{backend:j.a},a.a.createElement(S,null)))}}]),t}(a.a.Component),C=t(2),B=t(2).config,R=function e(){var n=this;Object(i.a)(this,e);var t=indexedDB.open(B.databaseName,B.databaseVersion);t.onupgradeneeded=function(e){console.log("Database onupgradeneeded!"),n.instance=e.target.result,n.instance.createObjectStore(B.stores.BOARDS,{keyPath:"id"}),n.instance.createObjectStore(B.stores.COLUMNS,{keyPath:"id"}),n.instance.createObjectStore(B.stores.CARDS,{keyPath:"id"})},t.onsuccess=function(e){console.log("Database onsuccess!"),n.instance=e.target.result},t.onerror=function(e){console.log("Database onerror: "+JSON.stringify(e))}},N=new R,k=function(e,n,t,r){var a=e.put(n);a.onsuccess=function(e){void 0!==t&&t(e)},a.onerror=function(e){void 0!==r&&r(e)}},y=function(e,n,t,r,a){var o=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS),c=o.get(e);c.onsuccess=function(e){var c=e.target.result;void 0===c.columns&&(c.columns=[]),c.columns.splice(t,0,n),k(o,c,r,a)},c.onerror=function(e){void 0!==a&&a(e)}},T=new R;function M(e){var n=0;if(0==e.length)return n;for(var t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return"kk"+(n<0?-n:n).toString()+(new Date).getTime()}window.board=new function e(n,t){Object(i.a)(this,e),this.id=M(n),this.title=n,this.columns=t,this.createdAt=(new Date).getTime(),this.updatedAt=(new Date).getTime()}("This is a new board title"),window.column=function e(n,t,r){Object(i.a)(this,e),this.id=M(n),this.title=n,this.position=t,this.cards=r,this.createdAt=(new Date).getTime(),this.updatedAt=(new Date).getTime()},window.boardInsert=function(e,n,t){var r=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS).add(e);r.onsuccess=function(e){void 0!==n&&n(e)},r.onerror=function(e){void 0!==t&&t(e)}},window.boardGetAll=function(e,n){var t=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS).getAll();t.onsuccess=function(n){void 0!==e&&e(n.target.result)},t.onerror=function(e){void 0!==n&&n(e)}},window.boardRemove=function(e,n,t){var r=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS).delete(e);r.onsuccess=function(e){void 0!==n&&n(e)},r.onerror=function(e){void 0!==t&&t(e)}},window.boardUpdateTitle=function(e,n,t,r){var a=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS),o=a.get(e);o.onsuccess=function(e){var o=e.target.result;o.title=n,k(a,o,t,r)},o.onerror=function(e){void 0!==r&&r(e)}},window.boardAddColumn=y,window.boardRemoveColumn=function(e,n,t,r){var a=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS),o=a.get(e);o.onsuccess=function(e){var o=e.target.result;void 0!==o.columns?(o.columns.splice(n,1),k(a,o,t,r)):void 0!==t&&t(e)},o.onerror=function(e){void 0!==r&&r(e)}},window.columnInsert=function(e,n,t,r){var a=T.instance.transaction([C.config.stores.COLUMNS],"readwrite").objectStore(C.config.stores.COLUMNS).add(n);a.onsuccess=function(r){y(e,n.id,n.position),void 0!==t&&t(r)},a.onerror=function(e){void 0!==r&&r(e)}},window.columnGetAll=function(e,n,t){!function(e,n,t){var r=N.instance.transaction([C.config.stores.BOARDS],"readwrite").objectStore(C.config.stores.BOARDS).get(e);r.onsuccess=function(e){void 0!==n&&n(e.target.result)},r.onerror=function(e){void 0!==t&&t(e)}}(e,(function(e){console.log(JSON.stringify(e.columns));var t=Object.Keys(e.columns),r=[];T.instance.transaction(C.config.stores.COLUMNS).objectStore(C.config.stores.COLUMNS).openCursor().onsuccess=function(e){var a=e.target.result;a?(r.splice(0,0,a.value),a.continue(t[0])):void 0!==n&&n(r)}}),(function(e){void 0!==t&&t(e)}))},window.db=new R,c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("root"))},2:function(e,n,t){"use strict";t.r(n),t.d(n,"config",(function(){return r}));var r={databaseName:"KKDatabase",databaseVersion:1,stores:{BOARDS:"boards",COLUMNS:"columns",CARDS:"cards"}}},52:function(e,n,t){e.exports=t(100)},57:function(e,n,t){},58:function(e,n,t){},59:function(e,n,t){},63:function(e,n,t){},98:function(e,n,t){},99:function(e,n,t){}},[[52,1,2]]]);
//# sourceMappingURL=main.292aafed.chunk.js.map